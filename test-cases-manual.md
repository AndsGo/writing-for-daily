# 英语学习助手 - 测试用例文档

## 文档信息
- **文档版本**：v1.0
- **创建日期**：2025-12-29
- **测试环境**：Chrome DevTools MCP
- **测试类型**：功能测试、手动验证测试

---

## 测试用例列表

### 1. 语音输入翻译测试（US-002）

#### TC-VOICE-001: 启动语音输入
**优先级**：高  
**用户故事**：US-002  
**验收标准**：AC-002-1, AC-002-6

**前置条件**：
- 应用已启动
- 用户在首页

**测试步骤**：
1. 点击"语音输入"按钮
2. 观察是否弹出麦克风权限请求对话框
3. 点击"允许"授权麦克风权限

**预期结果**：
- [ ] 点击按钮后弹出麦克风权限请求对话框
- [ ] 授权后显示录音指示器和动画效果
- [ ] 按钮文字变为"停止录音"
- [ ] 按钮类型变为danger（红色）

**实际结果**：待测试

---

#### TC-VOICE-002: 录音过程显示
**优先级**：高  
**用户故事**：US-002  
**验收标准**：AC-002-2, AC-002-3

**前置条件**：
- 应用已启动
- 用户已授权麦克风权限
- 语音输入已启动

**测试步骤**：
1. 确认录音指示器显示
2. 确认录音波形动画显示
3. 说出中文内容："你好，今天天气怎么样"
4. 观察临时识别文本是否实时显示

**预期结果**：
- [ ] 显示录音指示器
- [ ] 显示录音波形动画（5个波形条）
- [ ] 显示"正在聆听，请说话..."提示文字
- [ ] 识别过程中实时显示临时识别文本

**实际结果**：待测试

---

#### TC-VOICE-003: 停止录音
**优先级**：高  
**用户故事**：US-002  
**验收标准**：AC-002-4, AC-002-5

**前置条件**：
- 应用已启动
- 语音输入已启动
- 已说出中文内容

**测试步骤**：
1. 点击"停止录音"按钮
2. 观察输入框内容
3. 观察按钮状态

**预期结果**：
- [ ] 点击后录音停止
- [ ] 识别结果自动填充到输入框
- [ ] 按钮文字恢复为"语音输入"
- [ ] 按钮类型恢复为primary（蓝色）
- [ ] 录音指示器和波形动画消失

**实际结果**：待测试

---

#### TC-VOICE-004: 麦克风权限拒绝
**优先级**：高  
**用户故事**：US-002  
**验收标准**：AC-002-7

**前置条件**：
- 应用已启动
- 用户在首页

**测试步骤**：
1. 点击"语音输入"按钮
2. 在权限请求对话框中点击"拒绝"
3. 观察错误提示

**预期结果**：
- [ ] 显示友好的错误提示信息
- [ ] 提示信息说明需要麦克风权限
- [ ] 按钮状态恢复正常

**实际结果**：待测试

---

#### TC-VOICE-005: 语音识别准确性
**优先级**：高  
**用户故事**：US-002  
**验收标准**：AC-002-8

**前置条件**：
- 应用已启动
- 用户已授权麦克风权限

**测试步骤**：
1. 启动语音输入
2. 说出以下标准普通话句子：
   - "你好，今天天气怎么样"
   - "我想买一杯咖啡"
   - "请问地铁站在哪里"
   - "这个多少钱"
3. 停止录音
4. 对比识别结果与实际内容

**预期结果**：
- [ ] 识别准确率达到80%以上
- [ ] 识别结果语义正确
- [ ] 关键词汇识别准确

**实际结果**：待测试

---

#### TC-VOICE-006: 识别失败处理
**优先级**：高  
**用户故事**：US-002  
**验收标准**：AC-002-9

**前置条件**：
- 应用已启动
- 用户已授权麦克风权限

**测试步骤**：
1. 启动语音输入
2. 保持静音5秒
3. 停止录音
4. 观察错误提示

**预期结果**：
- [ ] 显示"识别失败，请重试"提示
- [ ] 提示信息友好清晰
- [ ] 用户可以重新尝试语音输入

**实际结果**：待测试

---

### 2. 历史记录搜索测试（US-005）

#### TC-SEARCH-001: 中文关键词搜索
**优先级**：中  
**用户故事**：US-005  
**验收标准**：AC-005-1, AC-005-2

**前置条件**：
- 应用已启动
- 历史记录页面有数据
- 用户在历史记录页面

**测试步骤**：
1. 在搜索框中输入中文关键词"天气"
2. 观察搜索结果
3. 输入中文关键词"咖啡"
4. 观察搜索结果更新

**预期结果**：
- [ ] 搜索结果实时更新（输入时即时过滤）
- [ ] 只显示包含"天气"关键词的记录
- [ ] 切换关键词后结果正确更新
- [ ] 搜索支持中文内容

**实际结果**：待测试

---

#### TC-SEARCH-002: 英文关键词搜索
**优先级**：中  
**用户故事**：US-005  
**验收标准**：AC-005-1, AC-005-5

**前置条件**：
- 应用已启动
- 历史记录页面有数据
- 用户在历史记录页面

**测试步骤**：
1. 在搜索框中输入英文关键词"weather"
2. 观察搜索结果
3. 输入英文关键词"coffee"
4. 观察搜索结果更新

**预期结果**：
- [ ] 搜索结果实时更新
- [ ] 只显示包含"weather"关键词的记录
- [ ] 搜索不区分大小写（输入"Weather"或"weather"结果相同）
- [ ] 搜索支持英文内容

**实际结果**：待测试

---

#### TC-SEARCH-003: 搜索框清空
**优先级**：中  
**用户故事**：US-005  
**验收标准**：AC-005-3

**前置条件**：
- 应用已启动
- 历史记录页面有数据
- 搜索框中有内容

**测试步骤**：
1. 在搜索框中输入关键词
2. 点击清空按钮（X图标）
3. 观察搜索结果

**预期结果**：
- [ ] 点击清空按钮后搜索框内容清空
- [ ] 显示所有历史记录
- [ ] 搜索结果恢复到完整列表

**实际结果**：待测试

---

#### TC-SEARCH-004: 搜索无结果
**优先级**：中  
**用户故事**：US-005  
**验收标准**：AC-005-4

**前置条件**：
- 应用已启动
- 历史记录页面有数据
- 用户在历史记录页面

**测试步骤**：
1. 在搜索框中输入不存在的关键词"xyz123"
2. 观察页面显示

**预期结果**：
- [ ] 显示"没有找到相关记录"提示
- [ ] 提示信息友好清晰
- [ ] 历史记录列表为空

**实际结果**：待测试

---

#### TC-SEARCH-005: 模糊匹配搜索
**优先级**：中  
**用户故事**：US-005  
**验收标准**：AC-005-6

**前置条件**：
- 应用已启动
- 历史记录页面有数据
- 用户在历史记录页面

**测试步骤**：
1. 在搜索框中输入部分关键词"天气"（完整是"今天天气怎么样"）
2. 观察搜索结果
3. 输入部分英文关键词"weath"（完整是"weather"）
4. 观察搜索结果

**预期结果**：
- [ ] 支持模糊匹配
- [ ] 输入"天气"能匹配到"今天天气怎么样"
- [ ] 输入"weath"能匹配到"weather"
- [ ] 搜索结果包含包含该关键词的所有记录

**实际结果**：待测试

---

### 3. 英文语音播放测试（US-012）

#### TC-PLAY-001: 播放英文发音
**优先级**：高  
**用户故事**：US-012  
**验收标准**：AC-012-1, AC-012-2

**前置条件**：
- 应用已启动
- 首页有翻译结果或历史记录页面有数据

**测试步骤**：
1. 找到一条翻译记录
2. 点击播放按钮
3. 观察播放状态

**预期结果**：
- [ ] 点击播放按钮后开始播放英文发音
- [ ] 播放时按钮图标变化（显示暂停图标）
- [ ] 能够听到英文语音
- [ ] 语音清晰可听

**实际结果**：待测试

---

#### TC-PLAY-002: 停止播放
**优先级**：高  
**用户故事**：US-012  
**验收标准**：AC-012-4, AC-012-5

**前置条件**：
- 应用已启动
- 正在播放英文语音

**测试步骤**：
1. 确认语音正在播放
2. 点击播放/暂停按钮
3. 观察播放状态

**预期结果**：
- [ ] 点击按钮后停止播放
- [ ] 按钮图标恢复原状（显示播放图标）
- [ ] 语音立即停止

**实际结果**：待测试

---

#### TC-PLAY-003: 播放完成
**优先级**：高  
**用户故事**：US-012  
**验收标准**：AC-012-4

**前置条件**：
- 应用已启动
- 正在播放英文语音

**测试步骤**：
1. 点击播放按钮开始播放
2. 等待播放完成
3. 观察按钮状态

**预期结果**：
- [ ] 播放完成后按钮图标恢复原状
- [ ] 按钮显示播放图标
- [ ] 可以再次点击播放

**实际结果**：待测试

---

#### TC-PLAY-004: 播放次数统计
**优先级**：高  
**用户故事**：US-012  
**验收标准**：AC-012-7

**前置条件**：
- 应用已启动
- 首页有翻译结果

**测试步骤**：
1. 记录当前播放次数（在学习进度页面查看）
2. 返回首页，点击播放按钮
3. 等待播放完成
4. 再次点击播放按钮
5. 返回学习进度页面查看播放次数

**预期结果**：
- [ ] 每次播放后播放次数增加
- [ ] 播放次数统计数据准确
- [ ] 学习进度页面显示正确的播放次数

**实际结果**：待测试

---

#### TC-PLAY-005: 播放失败处理
**优先级**：高  
**用户故事**：US-012  
**验收标准**：AC-012-6

**前置条件**：
- 应用已启动
- 首页有翻译结果

**测试步骤**：
1. 在设置页面将语速设置为不支持的值（如10.0x）
2. 返回首页
3. 点击播放按钮
4. 观察错误提示

**预期结果**：
- [ ] 播放失败时显示错误提示
- [ ] 错误提示清晰友好
- [ ] 用户可以调整设置后重试

**实际结果**：待测试

---

### 4. 数据导出测试（US-014）

#### TC-EXPORT-001: 导出所有数据
**优先级**：低  
**用户故事**：US-014  
**验收标准**：AC-014-1, AC-014-2, AC-014-3

**前置条件**：
- 应用已启动
- 历史记录中有数据
- 用户在设置页面

**测试步骤**：
1. 导航到设置页面
2. 点击"导出数据"按钮
3. 观察文件下载
4. 检查下载的文件

**预期结果**：
- [ ] 点击后触发文件下载
- [ ] 文件格式为JSON
- [ ] 文件名包含日期时间戳
- [ ] 文件包含所有翻译记录

**实际结果**：待测试

---

#### TC-EXPORT-002: 导出数据格式验证
**优先级**：低  
**用户故事**：US-014  
**验收标准**：AC-014-4

**前置条件**：
- 应用已启动
- 已导出数据文件

**测试步骤**：
1. 打开导出的JSON文件
2. 检查数据结构
3. 验证必要字段

**预期结果**：
- [ ] JSON格式正确
- [ ] 包含所有必要字段：chineseText, englishText, keywords, category, playCount, isFavorite, createdAt, updatedAt
- [ ] 数据完整无缺失

**实际结果**：待测试

---

#### TC-EXPORT-003: 导出加载状态
**优先级**：低  
**用户故事**：US-014  
**验收标准**：AC-014-5

**前置条件**：
- 应用已启动
- 历史记录中有大量数据
- 用户在设置页面

**测试步骤**：
1. 点击"导出数据"按钮
2. 观察按钮状态

**预期结果**：
- [ ] 导出过程中显示加载状态
- [ ] 按钮显示loading图标
- [ ] 按钮禁用，防止重复点击

**实际结果**：待测试

---

#### TC-EXPORT-004: 导出成功提示
**优先级**：低  
**用户故事**：US-014  
**验收标准**：AC-014-6

**前置条件**：
- 应用已启动
- 用户在设置页面

**测试步骤**：
1. 点击"导出数据"按钮
2. 等待导出完成
3. 观察提示信息

**预期结果**：
- [ ] 导出成功后显示成功提示
- [ ] 提示信息清晰友好
- [ ] 提示在3秒后自动消失

**实际结果**：待测试

---

### 5. 数据导入测试（US-015）

#### TC-IMPORT-001: 导入数据文件
**优先级**：低  
**用户故事**：US-015  
**验收标准**：AC-015-1, AC-015-2

**前置条件**：
- 应用已启动
- 有有效的JSON数据文件
- 用户在设置页面

**测试步骤**：
1. 点击"导入数据"按钮
2. 选择JSON文件
3. 观察导入过程

**预期结果**：
- [ ] 点击后打开文件选择对话框
- [ ] 支持选择JSON文件
- [ ] 导入过程显示加载状态

**实际结果**：待测试

---

#### TC-IMPORT-002: 导入成功
**优先级**：低  
**用户故事**：US-015  
**验收标准**：AC-015-4, AC-015-5

**前置条件**：
- 应用已启动
- 有有效的JSON数据文件
- 用户在设置页面

**测试步骤**：
1. 清空当前数据（或使用新环境）
2. 点击"导入数据"按钮
3. 选择有效的JSON文件
4. 等待导入完成
5. 检查历史记录页面

**预期结果**：
- [ ] 导入前验证数据格式
- [ ] 导入成功后更新所有相关数据
- [ ] 历史记录页面显示导入的记录
- [ ] 统计数据正确更新

**实际结果**：待测试

---

#### TC-IMPORT-003: 导入格式错误
**优先级**：低  
**用户故事**：US-015  
**验收标准**：AC-015-4, AC-015-6

**前置条件**：
- 应用已启动
- 有格式错误的JSON文件
- 用户在设置页面

**测试步骤**：
1. 点击"导入数据"按钮
2. 选择格式错误的JSON文件
3. 观察错误提示

**预期结果**：
- [ ] 导入前验证数据格式
- [ ] 格式错误时显示具体的错误信息
- [ ] 错误信息清晰易懂
- [ ] 数据不会被导入

**实际结果**：待测试

---

#### TC-IMPORT-004: 导入加载状态
**优先级**：低  
**用户故事**：US-015  
**验收标准**：AC-015-7

**前置条件**：
- 应用已启动
- 有有效的JSON数据文件
- 用户在设置页面

**测试步骤**：
1. 点击"导入数据"按钮
2. 选择JSON文件
3. 观察按钮状态

**预期结果**：
- [ ] 导入过程中显示加载状态
- [ ] 按钮显示loading图标
- [ ] 按钮禁用，防止重复点击

**实际结果**：待测试

---

### 6. 数据清除测试（US-016）

#### TC-CLEAR-001: 清除所有数据
**优先级**：低  
**用户故事**：US-016  
**验收标准**：AC-016-1, AC-016-2

**前置条件**：
- 应用已启动
- 历史记录中有数据
- 用户在设置页面

**测试步骤**：
1. 点击"清除所有数据"按钮
2. 观察确认对话框
3. 点击"确认"按钮
4. 观察清除结果

**预期结果**：
- [ ] 点击后显示确认对话框
- [ ] 对话框包含确认和取消按钮
- [ ] 确认后清除所有数据
- [ ] 显示成功提示

**实际结果**：待测试

---

#### TC-CLEAR-002: 取消清除
**优先级**：低  
**用户故事**：US-016  
**验收标准**：AC-016-2

**前置条件**：
- 应用已启动
- 历史记录中有数据
- 用户在设置页面

**测试步骤**：
1. 点击"清除所有数据"按钮
2. 在确认对话框中点击"取消"按钮
3. 检查数据是否保留

**预期结果**：
- [ ] 点击取消后对话框关闭
- [ ] 数据不会被清除
- [ ] 历史记录保持不变

**实际结果**：待测试

---

#### TC-CLEAR-003: 清除后空状态
**优先级**：低  
**用户故事**：US-016  
**验收标准**：AC-016-5

**前置条件**：
- 应用已启动
- 已清除所有数据

**测试步骤**：
1. 确认数据已清除
2. 导航到历史记录页面
3. 导航到学习进度页面

**预期结果**：
- [ ] 历史记录页面显示"还没有学习记录"提示
- [ ] 学习进度页面显示"开始你的学习之旅吧"提示
- [ ] 所有统计数据归零

**实际结果**：待测试

---

#### TC-CLEAR-004: 清除成功提示
**优先级**：低  
**用户故事**：US-016  
**验收标准**：AC-016-4

**前置条件**：
- 应用已启动
- 历史记录中有数据
- 用户在设置页面

**测试步骤**：
1. 点击"清除所有数据"按钮
2. 在确认对话框中点击"确认"
3. 观察提示信息

**预期结果**：
- [ ] 清除后显示成功提示
- [ ] 提示信息清晰友好
- [ ] 提示在3秒后自动消失

**实际结果**：待测试

---

### 7. 复制翻译结果测试（US-019）

#### TC-COPY-001: 复制英文翻译
**优先级**：中  
**用户故事**：US-019  
**验收标准**：AC-019-1, AC-019-2

**前置条件**：
- 应用已启动
- 首页有翻译结果或历史记录页面有数据

**测试步骤**：
1. 找到一条翻译记录
2. 点击复制按钮
3. 在其他地方粘贴（如记事本）

**预期结果**：
- [ ] 点击复制按钮后复制英文翻译到剪贴板
- [ ] 粘贴后内容正确
- [ ] 复制的是英文翻译内容

**实际结果**：待测试

---

#### TC-COPY-002: 复制成功提示
**优先级**：中  
**用户故事**：US-019  
**验收标准**：AC-019-3, AC-019-4

**前置条件**：
- 应用已启动
- 首页有翻译结果

**测试步骤**：
1. 点击复制按钮
2. 观察提示信息
3. 等待2秒

**预期结果**：
- [ ] 复制成功后显示"复制成功"提示
- [ ] 提示在2秒后自动消失
- [ ] 提示信息清晰友好

**实际结果**：待测试

---

#### TC-COPY-003: 复制失败处理
**优先级**：中  
**用户故事**：US-019  
**验收标准**：AC-019-5

**前置条件**：
- 应用已启动
- 首页有翻译结果

**测试步骤**：
1. 模拟剪贴板访问失败（浏览器限制）
2. 点击复制按钮
3. 观察错误提示

**预期结果**：
- [ ] 复制失败时显示错误提示
- [ ] 错误提示清晰友好
- [ ] 用户可以重试

**实际结果**：待测试

---

### 8. 网络异常处理测试（US-020）

#### TC-NETWORK-001: 网络断开
**优先级**：高  
**用户故事**：US-020  
**验收标准**：AC-020-1

**前置条件**：
- 应用已启动
- 用户在首页

**测试步骤**：
1. 断开网络连接（关闭WiFi或拔掉网线）
2. 在输入框中输入中文内容
3. 点击"翻译"按钮
4. 观察错误提示

**预期结果**：
- [ ] 显示"网络连接失败，请检查网络设置"提示
- [ ] 提示信息清晰友好
- [ ] 翻译按钮恢复可用状态

**实际结果**：待测试

---

#### TC-NETWORK-002: 网络恢复
**优先级**：高  
**用户故事**：US-020  
**验收标准**：AC-020-2

**前置条件**：
- 应用已启动
- 网络已断开

**测试步骤**：
1. 确认网络已断开
2. 恢复网络连接
3. 在输入框中输入中文内容
4. 点击"翻译"按钮
5. 观察翻译结果

**预期结果**：
- [ ] 网络恢复后可以正常使用翻译功能
- [ ] 翻译成功显示结果
- [ ] 无错误提示

**实际结果**：待测试

---

#### TC-NETWORK-003: 请求超时
**优先级**：高  
**用户故事**：US-020  
**验收标准**：AC-020-3

**前置条件**：
- 应用已启动
- 用户在首页

**测试步骤**：
1. 模拟网络延迟（使用开发者工具Network Throttling）
2. 设置网络为Slow 3G
3. 在输入框中输入中文内容
4. 点击"翻译"按钮
5. 等待超过10秒
6. 观察错误提示

**预期结果**：
- [ ] 超过10秒后显示"请求超时，请重试"提示
- [ ] 提示信息清晰友好
- [ ] 翻译按钮恢复可用状态

**实际结果**：待测试

---

#### TC-NETWORK-004: 服务器错误
**优先级**：高  
**用户故事**：US-020  
**验收标准**：AC-020-4

**前置条件**：
- 应用已启动
- 用户在首页

**测试步骤**：
1. 使用开发者工具模拟服务器错误（500）
2. 在输入框中输入中文内容
3. 点击"翻译"按钮
4. 观察错误提示

**预期结果**：
- [ ] 显示"服务器错误，请稍后重试"提示
- [ ] 提示信息清晰友好
- [ ] 翻译按钮恢复可用状态

**实际结果**：待测试

---

## 测试用例统计

| 模块 | 测试用例数 | 高优先级 | 中优先级 | 低优先级 |
|------|-----------|---------|---------|---------|
| 语音输入翻译 | 6 | 6 | 0 | 0 |
| 历史记录搜索 | 5 | 0 | 5 | 0 |
| 英文语音播放 | 5 | 5 | 0 | 0 |
| 数据导出 | 4 | 0 | 0 | 4 |
| 数据导入 | 4 | 0 | 0 | 4 |
| 数据清除 | 4 | 0 | 0 | 4 |
| 复制翻译结果 | 3 | 0 | 3 | 0 |
| 网络异常处理 | 4 | 4 | 0 | 0 |
| **总计** | **35** | **15** | **8** | **12** |

---

## 测试执行计划

### 第一批：高优先级测试（15个用例）
1. 语音输入翻译（6个用例）
2. 英文语音播放（5个用例）
3. 网络异常处理（4个用例）

### 第二批：中优先级测试（8个用例）
1. 历史记录搜索（5个用例）
2. 复制翻译结果（3个用例）

### 第三批：低优先级测试（12个用例）
1. 数据导出（4个用例）
2. 数据导入（4个用例）
3. 数据清除（4个用例）

---

## 测试环境要求

### 硬件环境
- 操作系统：Windows 10/11
- 浏览器：Chrome 90+
- 麦克风：用于语音输入测试
- 网络：稳定的互联网连接

### 软件环境
- Node.js 18.x或更高版本
- 开发服务器：npm run dev
- 测试工具：Chrome DevTools MCP

### 测试数据准备
1. 准备标准普通话语音测试内容
2. 准备有效的JSON数据文件用于导入测试
3. 准备格式错误的JSON文件用于导入测试

---

## 测试注意事项

1. **权限处理**：语音输入测试需要麦克风权限，请确保浏览器允许访问
2. **网络环境**：网络异常测试需要断开网络或使用开发者工具模拟
3. **数据备份**：数据清除测试前请备份重要数据
4. **浏览器兼容性**：建议使用Chrome浏览器进行测试
5. **测试顺序**：建议按优先级从高到低执行测试
6. **结果记录**：每个测试用例执行后请记录实际结果

---

*本文档基于产品验收文档编写，用于指导手动测试执行。*
